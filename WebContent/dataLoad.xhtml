<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:gc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui"
	  xmlns:pe="http://primefaces.org/ui/extensions" >

	<ui:decorate template="profileTemplate.xhtml">
		<ui:define name="title">Upload Data</ui:define>
		<ui:define name="header">
			<ui:include src="/header.xhtml" />
		</ui:define>
		<ui:define name="content">
			<p:growl id="growl" showDetail="true" life="2000" />
			<div class="row columns">
				<p:dialog modal="true" widgetVar="statusDialog" style="width:400px;height:300px;" header="Uploading Data:" draggable="false" closable="false" resizable="false">
				    <p:graphicImage value="img/gifs/download-gif.gif" />
				</p:dialog>
				<p:fieldset legend="Send an Email" >
					<ui:include src="/emailWizard.xhtml" />
					<!-- 
					<h:panelGrid columns="2" >
						<h:outputLabel for="subject" value="Enter Subject:" />
						<p:inputText id="subject" value="#{emailWizardBean.subject}" />
						
						<h:outputLabel for="title" value="Message Headline:" />
						<p:inputText id="title" value="#{emailWizardBean.title}" />
						
						<h:outputLabel for="subtitle" value="Headline Details:" />
						<p:inputText id="subtitle" value="#{emailWizardBean.subtitle}" />
						
						<h:outputLabel for="message" value="Enter Message:" />
						<p:inputTextArea id="message" value="#{emailWizardBean.messageText}" />
					</h:panelGrid>
					 -->
				</p:fieldset>
				<!-- Center content update area -->
				<p:fieldset legend="Update Data" >
					<h:panelGrid columns="2">
						<h:form id="stadiumUploadForm" enctype="multipart/form-data">
							<p:fieldset legend="Upload Stadiums:">
								<h:outputText value="Select the Stadiums.xml file to upload: " />
								<p:fileUpload mode="advanced" 
											  multiple="false"
											  dragDropSupport="true"
											  skinSimple="true"
											  allowTypes="/(\.|\/)(xml)$/"
											  fileUploadListener="#{uploadStadiums.upload}" />
							    <p:commandButton value="Submit Stadiums: " update="growl" actionListener="#{uploadStadiums.submit}" 
							    				onclick="start()" oncomplete="stop()" icon="ui-icon-disk" styleClass="ui-priority-primary" />
							</p:fieldset>
						</h:form>
						<h:form id="seasonUploadForm" enctype="multipart/form-data">
							<p:fieldset legend="Upload Seasons:">
								<h:outputText value="Select the Season.xml file(s) to upload: " />
								<p:fileUpload mode="advanced" 
											  multiple="true"
											  dragDropSupport="true"
											  skinSimple="true"
											  allowTypes="/(\.|\/)(xml)$/"
											  fileUploadListener="#{uploadSeasons.upload}" />
							    <p:commandButton value="Submit Seasons: " update="growl" actionListener="#{uploadSeasons.submit}" 
							    				onclick="start()" oncomplete="stop()" icon="ui-icon-disk" styleClass="ui-priority-primary" />
							</p:fieldset>
						</h:form>
						<h:form id="generateRecords">
							<p:fieldset legend="Generate Records:">
								<p:commandButton value="Generate:" update="growl" actionListener="#{recordGenerator.generateRecords}" 
												onclick="start()" oncomplete="stop()" icon="ui-icon-disk" styleClass="ui-priority-primary" />
							</p:fieldset>
						</h:form>
						<h:form id="weekUploadForm" enctype="multipart/form-data">
							<p:fieldset legend="Upload Weeks:">
								<h:outputText value="Select the Week.xml file(s) to upload: " />
								<p:fileUpload mode="advanced" 
											  multiple="true"
											  dragDropSupport="true"
											  skinSimple="true"
											  allowTypes="/(\.|\/)(xml)$/"
											  fileUploadListener="#{uploadWeeks.upload}" />
							    <p:commandButton value="Submit Weeks: " update="growl" actionListener="#{uploadWeeks.submit}" 
							    				onclick="start()" oncomplete="stop()" icon="ui-icon-disk" styleClass="ui-priority-primary" />
							</p:fieldset>
						</h:form>
						<h:form id="pickUploadForm" enctype="multipart/form-data">
							<p:fieldset legend="Upload Pick Spreadsheets:">
								<h:outputText value="Select the picks .xls file to upload: " />
								<p:fileUpload mode="advanced" 
											  multiple="true"
											  dragDropSupport="true"
											  skinSimple="true"
											  allowTypes="/(\.|\/)(xlsx?)$/"
											  fileUploadListener="#{uploadExcelPicks.upload}" />
								<p:commandButton value="Submit Picks: " update="growl" actionListener="#{uploadExcelPicks.submit}"  
												onclick="start()" oncomplete="stop()" icon="ui-icon-disk" styleClass="ui-priority-primary" />
							</p:fieldset>
						</h:form>
					</h:panelGrid>
				</p:fieldset>
				<script type="text/javascript">
					function start() {
					    PF('statusDialog').show();
					}
					 
					function stop() {
					    PF('statusDialog').hide();
					}
				</script>
			</div>
		</ui:define>
		<ui:define name="footer">
			<ui:include src="/footer.xhtml" />
		</ui:define>
	</ui:decorate>
</html>
